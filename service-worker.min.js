"use strict";const VERSION="v28::",OFFLINE_FUNDAMENTALS=["/","/offline.html","/css/colours.min.css","/css/index.min.css","/css/offline.min.css","/css/recipe.min.css","/css/all.min.css","/js/flexsearch.light.js","/js/scale_timers.min.js","/js/search.min.js","/img/header-lrg.svg","/img/logo.svg","/img/page-bg-light.svg","/img/page-bg-dark.svg","/img/recent-bg.svg","/img/search.svg","/img/arrow-light.svg","/img/arrow-dark.svg","/img/timer-reset.svg","/img/timer-start.svg","/img/timer-close.svg","/img/clock.svg","/img/cart.svg","/img/cart-fill.svg","/img/notification.svg","/img/notification-disabled.svg","/fonts/lmmonoproplt10-regular-webfont-subset.woff2"];function fromNetwork(e,t){return new Promise((function(n,s){let i=setTimeout(s,t);fetch(e).then((function(t){clearTimeout(i);let s=t.clone();caches.open("v28::cached").then((function(t){t.put(e,s)})),n(t)}),s)}))}function fromCache(e){return caches.open("v28::cached").then((function(t){return t.match(e).then((function(t){return e.headers.get("Accept").includes("text/html")?t||caches.match("offline.html"):t}))}))}self.addEventListener("install",(function(e){e.waitUntil(caches.open("v28::cached").then((function(e){return e.addAll(OFFLINE_FUNDAMENTALS)})))})),self.addEventListener("fetch",(function(e){"GET"===e.request.method&&("navigate"==e.request.mode?e.respondWith(fromNetwork(e.request,4e3).catch((()=>fromCache(e.request)))):e.respondWith(caches.match(e.request).then((t=>{let n=fromNetwork(e.request,4e3).catch((()=>fromCache(e.request)));return t||n}))))})),self.addEventListener("activate",(function(e){e.waitUntil(caches.keys().then((function(e){return Promise.all(e.filter((function(e){return!e.startsWith("v28::")})).map((function(e){return caches.delete(e)})))})))})),self.addEventListener("notificationclick",(function(e){const t=e.notification;t.close(),e.waitUntil(clients.matchAll({type:"window"}).then((e=>{for(let n of e)if(n.url===t.data.url)return n.focus();return clients.openWindow(t.data.url)})))}));