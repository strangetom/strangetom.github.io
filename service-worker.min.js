"use strict";const VERSION="v27::",OFFLINE_FUNDAMENTALS=["/","/offline.html","/css/colours.min.css","/css/index.min.css","/css/offline.min.css","/css/recipe.min.css","/js/flexsearch.light.js","/js/scale_timers.min.js","/js/search.min.js","/img/header.svg","/img/header-lrg.svg","/img/page-bg-light.svg","/img/page-bg-dark.svg","/img/recent-bg.svg","/img/timer-reset.svg","/img/timer-start.svg","/img/timer-close.svg","/img/clock.svg","/img/cart.svg","/img/cart-fill.svg","/fonts/lmmonoproplt10-regular-webfont-subset.woff2"];function fromNetwork(e,t){return new Promise((function(n,i){let s=setTimeout(i,t);fetch(e).then((function(t){clearTimeout(s);let i=t.clone();caches.open("v27::cached").then((function(t){t.put(e,i)})),n(t)}),i)}))}function fromCache(e){return caches.open("v27::cached").then((function(t){return t.match(e).then((function(e){return e||caches.match("offline.html")}))}))}self.addEventListener("install",(function(e){e.waitUntil(caches.open("v27::cached").then((function(e){return e.addAll(OFFLINE_FUNDAMENTALS)})))})),self.addEventListener("fetch",(function(e){"GET"===e.request.method&&e.respondWith(fromNetwork(e.request,4e3).catch((function(){return fromCache(e.request)})))})),self.addEventListener("activate",(function(e){e.waitUntil(caches.keys().then((function(e){return Promise.all(e.filter((function(e){return!e.startsWith("v27::")})).map((function(e){return caches.delete(e)})))})))})),self.addEventListener("notificationclick",(function(e){const t=e.notification;t.close(),e.waitUntil(clients.matchAll({type:"window"}).then((e=>{for(let n of e)if(n.url===t.data.url)return n.focus();return clients.openWindow(t.data.url)})))}));