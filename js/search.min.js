class RecipeCard extends HTMLLIElement{constructor(e){self=super();const t=document.createElement("h2");t.appendChild(document.createTextNode(e.name)),t.setAttribute("class","recipe-title");const i=document.createElement("img");i.setAttribute("class","recipe-photo"),i.setAttribute("src",e.image),i.setAttribute("alt",e.name),i.setAttribute("width","512"),i.setAttribute("height","288");const n=document.createElement("div");n.classList.add("recipe-overlay"),n.classList.add(e.category),n.appendChild(i),n.appendChild(t);const r=document.createElement("a");if(r.setAttribute("href",e.html),r.appendChild(n),"svg"==e.image.split(".").pop()){const e=document.createElement("span");e.innerHTML="Coming Soon",e.classList.add("recipe-new"),r.appendChild(e)}r.appendChild(this.newLabel(e.time,e.category)),r.appendChild(this.newLabel("Serves "+e.yield,e.category)),e.nutrition&&r.appendChild(this.newLabel("Nutrition &#10003;",e.category)),"diet"in e&&(e.diet.includes("Vegan")&&r.appendChild(this.newLabel("Vegan",e.category)),e.diet.includes("GlutenFree")&&r.appendChild(this.newLabel("Gluten Free",e.category)),e.diet.includes("DairyFree")&&r.appendChild(this.newLabel("Dairy Free",e.category)),e.diet.includes("NutFree")&&r.appendChild(this.newLabel("Nut Free",e.category))),this.appendChild(r)}newLabel=function(e,t){const i=document.createElement("span");return i.innerHTML=e,i.classList.add("recipe-extra"),i.classList.add(t),i}}onload=function(){installServiceWorker(),customElements.define("recipe-card",RecipeCard,{extends:"li"}),""!=document.getElementById("search-pattern").value&&onPatternChange()},displayResults=function(e,t){resultsList=document.getElementById("search-results");var i=resultsList.cloneNode(!1);for(index=0;index<e.length&&index<t;++index){if("item"in e[index])var n=e[index].item;else n=e[index];var r=new RecipeCard(n);r.classList.add("search-result"),i.appendChild(r)}resultsList.parentNode.replaceChild(i,resultsList),resultsList=i},onPatternChange=function(){recipe_list=recipe_data.recipes;var e=new Fuse(recipe_list,{shouldSort:!0,threshold:.22,distance:100,minMatchCharLength:1,ignoreLocation:!0,keys:["name"]}),t=document.getElementById("search-pattern");if(0==t.value.length){var i=resultsList.cloneNode(!1);return resultsList.parentNode.replaceChild(i,resultsList),void(resultsList=i)}var n=e.search(t.value);displayResults(n,20)},displayCategory=function(e){var t=recipe_data.recipes.filter((function(t){return t.category==e}));displayResults(t,200)},installServiceWorker=function(){"serviceWorker"in navigator?(console.log("CLIENT: service worker registration in progress."),navigator.serviceWorker.register("/service-worker.min.js").then((function(){console.log("CLIENT: service worker registration complete.")}),(function(){console.log("CLIENT: service worker registration failure.")}))):console.log("CLIENT: service worker is not supported.")};