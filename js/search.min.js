class RecipeCard extends HTMLLIElement{constructor(e,t,i,r){self=super();const s=document.createTextNode(e),n=document.createElement("h2");n.appendChild(s);const c=document.createElement("img");c.setAttribute("src","./img/"+r+".svg");const l=document.createElement("div");l.setAttribute("class","result-icon baseline"),l.appendChild(c),l.appendChild(n);const o=document.createElement("img");o.setAttribute("class","photo"),o.setAttribute("src",i),"svg"==i.split(".").pop()&&this.setAttribute("class","new-recipe-"+r.toLowerCase());const a=document.createElement("a");a.setAttribute("href",t),a.appendChild(o),a.appendChild(l),this.appendChild(a)}}onload=function(){installServiceWorker(),customElements.define("recipe-card",RecipeCard,{extends:"li"})},displayResults=function(e,t){resultsList=document.getElementById("search-results");var i=resultsList.cloneNode(!1);for(index=0;index<e.length&&index<t;++index){if("item"in e[index])var r=e[index].item;else r=e[index];var s=new RecipeCard(r.name,r.html,r.image,r.category);s.classList.add("search-result"),i.appendChild(s)}resultsList.parentNode.replaceChild(i,resultsList),resultsList=i},onPatternChange=function(){recipe_list=filterRecipesByOptions();var e=new Fuse(recipe_list,{shouldSort:!0,threshold:.22,location:0,distance:100,minMatchCharLength:1,keys:["name"]}),t=document.getElementById("search-pattern");if(0==t.value.length){var i=resultsList.cloneNode(!1);return resultsList.parentNode.replaceChild(i,resultsList),void(resultsList=i)}var r=e.search(t.value);displayResults(r,20)},filterRecipesByOptions=function(){return hasNutrition=document.getElementById("has_nutrition").checked,selectVegan=document.getElementById("vegan").checked,selectDairyFree=document.getElementById("dairyfree").checked,selectGlutenFree=document.getElementById("glutenfree").checked,recipes=recipe_data.recipes,hasNutrition&&(recipes=recipes.filter(function(e){return e.nutrition})),selectVegan&&(recipes=recipes.filter(function(e){if(void 0!=e.diet&&e.diet.includes("Vegan"))return e})),selectDairyFree&&(recipes=recipes.filter(function(e){if(void 0!=e.diet&&e.diet.includes("DairyFree"))return e})),selectGlutenFree&&(recipes=recipes.filter(function(e){if(void 0!=e.diet&&e.diet.includes("GlutenFree"))return e})),recipes},displayCategory=function(e){var t=filterRecipesByOptions().filter(function(t){return t.category==e});displayResults(t,200)},installServiceWorker=function(){"serviceWorker"in navigator?(console.log("CLIENT: service worker registration in progress."),navigator.serviceWorker.register("/service-worker.min.js").then(function(){console.log("CLIENT: service worker registration complete.")},function(){console.log("CLIENT: service worker registration failure.")})):console.log("CLIENT: service worker is not supported.")};