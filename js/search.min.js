class RecipeCard extends HTMLLIElement{constructor(e){self=super();const t=document.createElement("h2");t.appendChild(document.createTextNode(e.name)),t.setAttribute("class","recipe-title");const i=document.createElement("img");i.setAttribute("class","recipe-photo"),i.setAttribute("src",e.image),i.setAttribute("alt",e.name);const r=document.createElement("div");r.setAttribute("class","recipe-overlay"),r.appendChild(i),r.appendChild(t);const n=document.createElement("a");if(n.setAttribute("href",e.html),n.appendChild(r),"svg"==e.image.split(".").pop()){const e=document.createElement("span");e.innerHTML="Coming Soon",e.classList.add("recipe-new"),n.appendChild(e)}n.appendChild(this.newLabel(e.time,e.category)),n.appendChild(this.newLabel("Serves "+e.yield,e.category)),e.nutrition&&n.appendChild(this.newLabel("Nutrition &#10003;",e.category)),"diet"in e&&(e.diet.includes("Vegan")&&n.appendChild(this.newLabel("Vegan",e.category)),e.diet.includes("GlutenFree")&&n.appendChild(this.newLabel("Gluten Free",e.category)),e.diet.includes("DairyFree")&&n.appendChild(this.newLabel("Dairy Free",e.category)),e.diet.includes("NutFree")&&n.appendChild(this.newLabel("Nut Free",e.category))),this.appendChild(n)}newLabel=function(e,t){const i=document.createElement("span");return i.innerHTML=e,i.classList.add("recipe-extra"),i.classList.add(t),i}}onload=function(){installServiceWorker(),customElements.define("recipe-card",RecipeCard,{extends:"li"})},displayResults=function(e,t){resultsList=document.getElementById("search-results");var i=resultsList.cloneNode(!1);for(index=0;index<e.length&&index<t;++index){if("item"in e[index])var r=e[index].item;else r=e[index];var n=new RecipeCard(r);n.classList.add("search-result"),i.appendChild(n)}resultsList.parentNode.replaceChild(i,resultsList),resultsList=i},onPatternChange=function(){recipe_list=recipe_data.recipes;var e=new Fuse(recipe_list,{shouldSort:!0,threshold:.22,distance:100,minMatchCharLength:1,ignoreLocation:!0,keys:["name"]}),t=document.getElementById("search-pattern");if(0==t.value.length){var i=resultsList.cloneNode(!1);return resultsList.parentNode.replaceChild(i,resultsList),void(resultsList=i)}var r=e.search(t.value);displayResults(r,20)},displayCategory=function(e){var t=recipe_data.recipes.filter((function(t){return t.category==e}));displayResults(t,200)},installServiceWorker=function(){"serviceWorker"in navigator?(console.log("CLIENT: service worker registration in progress."),navigator.serviceWorker.register("/service-worker.min.js").then((function(){console.log("CLIENT: service worker registration complete.")}),(function(){console.log("CLIENT: service worker registration failure.")}))):console.log("CLIENT: service worker is not supported.")};