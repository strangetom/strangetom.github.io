fractionScaleMap={.5:{.5:"¼",1:"½",2:"1",3:"1½"},.333:{.5:"⅙",1:"⅓",2:"⅔",3:"1"},.666:{.5:"⅓",1:"⅔",2:"1⅓",3:"2"},.25:{.5:"⅛",1:"¼",2:"½",3:"¾"},.75:{.5:"⅜",1:"¾",2:"1½",3:"2¼"},.2:{.5:"⅒",1:"⅕",2:"⅖",3:"⅗"},.4:{.5:"⅕",1:"⅖",2:"⅘",3:"1⅕"},.6:{.5:"³⁄₁₀",1:"⅗",2:"1⅕",3:"1⅘"},.8:{.5:"⅖",1:"⅘",2:"1⅗",3:"2⅕"},.1665:{.5:"¹⁄₁₂",1:"⅙",2:"⅓",3:"½"},.833:{.5:"⁵⁄₁₂",1:"⅚",2:"1⅔",3:"2½"},.14285:{.5:"¹⁄₁₄",1:"⅐",2:"²⁄₇",3:"³⁄₇"},.125:{.5:"¹⁄₁₆",1:"⅛",2:"¼",3:"⅜"},.375:{.5:"³⁄₁₆",1:"⅜",2:"¾",3:"1⅛"},.625:{.5:"⁵⁄₁₆",1:"⅝",2:"1¼",3:"1⅞"},.875:{.5:"⁷⁄₁₆",1:"⅞",2:"1¾",3:"2⅝"},1:{.5:"½",1:"1",2:"2",3:"3"}},scaleRecipe=function(e){servings_element=document.getElementById("servings"),default_servings=servings_element.dataset.default,default_servings.includes("-")?servings_element.innerHTML=scaleRange(default_servings,e):(new_servings=default_servings*e,Number.isInteger(new_servings)?servings_element.innerHTML=new_servings:servings_element.innerHTML=formatFraction(new_servings)),SQ=document.getElementsByClassName("scalable");for(var t=0;t<SQ.length;t++){default_value=SQ[t].dataset.default;let a=0;/\d/.test(default_value)&&(default_value.includes("-")?(a=scaleRange(default_value,e),setScaledValue(SQ[t],a)):default_value<=1?(a=fractionScaleMap[default_value][e],setScaledValue(SQ[t],a)):(a=Number((Number(default_value)*e).toFixed(5)),Number.isInteger(Number(a))?setScaledValue(SQ[t],a.toFixed(0)):setScaledValue(SQ[t],formatFraction(a))))}},setScaledValue=function(e,t){"quantity"in e.dataset?e.dataset.quantity=t:e.innerHTML=t},scaleRange=function(e,t){return split=e.split("-"),lower=scale(split[0],t),upper=scale(split[1],t),lower+"-"+upper},scale=function(e,t){return Number((Math.round(e*t*24)/24).toFixed(2))},formatFraction=function(e){return integer=Math.floor(e),frac=+(e%1).toFixed(5),integer>0?integer.toFixed(0)+fractionScaleMap[frac][1]:fractionScaleMap[frac][1]};