fractionScaleMap={.5:{.5:"&frac14;",1:"&frac12;",2:"1",3:"1&frac12;"},.333:{.5:"&frac16;",1:"&frac13;",2:"&frac23;",3:"1"},.666:{.5:"&frac13;",1:"&frac23;",2:"1&frac13;",3:"2"},.25:{.5:"&frac18;",1:"&frac14;",2:"&frac12;",3:"&frac34;"},.75:{.5:"&frac38;",1:"&frac34;",2:"1&frac12;",3:"2&frac14;"},.2:{.5:"<sup>1</sup>&frasl;<sub>10</sub>",1:"&frac15;",2:"&frac25;",3:"&frac35;"},.4:{.5:"&frac15;",1:"&frac25;",2:"&frac45;",3:"1&frac15;"},.6:{.5:"<sup>3</sup>&frasl;<sub>10</sub>",1:"&frac35;",2:"1&frac15;",3:"1&frac45;"},.8:{.5:"&frac25;",1:"&frac45;",2:"1&frac35;",3:"2&frac15;"},.1665:{.5:"<sup>1</sup>&frasl;<sub>12</sub>",1:"&frac16;",2:"&frac13;",3:"&frac12;"},.833:{.5:"<sup>5</sup>&frasl;<sub>12</sub>",1:"&frac56;",2:"1&frac23;",3:"2&frac12;"},.14285:{.5:"<sup>1</sup>&frasl;<sub>14</sub>",1:"&#8528;",2:"<sup>2</sup>&frasl;<sub>7</sub>",3:"<sup>3</sup>&frasl;<sub>27</sub>"},.125:{.5:"<sup>1</sup>&frasl;<sub>16</sub>",1:"&frac18;",2:"&frac14;",3:"&frac38;"},.375:{.5:"<sup>3</sup>&frasl;<sub>16</sub>",1:"&frac38;",2:"&frac34;",3:"1&frac18;"},.625:{.5:"<sup>5</sup>&frasl;<sub>16</sub>",1:"&frac58;",2:"1&frac14;",3:"1&frac78;"},.875:{.5:"<sup>7</sup>&frasl;<sub>16</sub>",1:"&frac78;",2:"1&frac34;",3:"2&frac58;"},1:{.5:"&frac12;",1:"1",2:"2",3:"3"}},scaleRecipe=function(a){servings_element=document.getElementById("servings"),default_servings=Number(servings_element.getAttribute("default")),servings_element.innerHTML=default_servings*a,SQ=document.getElementsByClassName("scalable");for(var r=0;r<SQ.length;r++)default_value=SQ[r].getAttribute("default"),default_value.includes("-")?SQ[r].innerHTML=scaleRange(default_value,a):default_value<=1?SQ[r].innerHTML=fractionScaleMap[default_value][a]:(scaled=Number((Number(default_value)*a).toFixed(5)),Number.isInteger(Number(scaled))?SQ[r].innerHTML=scaled.toFixed(0):SQ[r].innerHTML=formatFraction(scaled))},scaleRange=function(a,r){return split=a.split("-"),lower=scale(split[0],r),upper=scale(split[1],r),lower+"-"+upper},scale=function(a,r){return Number((Math.round(a*r*24)/24).toFixed(2))},formatFraction=function(a){return integer=Math.floor(a),frac=a%1,integer>0?integer.toFixed(0)+fractionScaleMap[frac][1]:fractionScaleMap[frac][1]};